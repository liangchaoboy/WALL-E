# å®Œæ•´æ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ¯ é¡¹ç›®æ¶æ„

### æ•´ä½“æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Web å‰ç«¯é¡µé¢                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   æ–‡å­—è¾“å…¥æ¡†      â”‚         â”‚   è¯­éŸ³å½•éŸ³æŒ‰é’®    â”‚         â”‚
â”‚  â”‚ "ä»åŒ—äº¬åˆ°ä¸Šæµ·"    â”‚         â”‚   ğŸ¤ ç‚¹å‡»å½•éŸ³     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚           â”‚                            â”‚                    â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                        â†“                                    â”‚
â”‚              POST /api/navigate                             â”‚
â”‚              { type, input/audio }                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“ HTTP
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Go Web åç«¯æœåŠ¡                             â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 1ï¸âƒ£ HTTP Handler - æ¥æ”¶è¯·æ±‚                           â”‚  â”‚
â”‚  â”‚    - æ–‡å­—è¾“å…¥ or è¯­éŸ³æ•°æ®                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                       â†“                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 2ï¸âƒ£ STT æ¨¡å—ï¼ˆè‡ªåŠ¨é™çº§ï¼‰                               â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚ OpenAI Whisper API (ä¼˜å…ˆ)                   â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  âœ… é«˜ç²¾åº¦ã€æ”¯æŒä¸­æ–‡                          â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â”‚                 â”‚ å¤±è´¥ â†“                              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ æœ¬åœ° STTï¼ˆé™çº§æ–¹æ¡ˆï¼‰                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ whisper.cpp                              â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ vosk                                      â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ ç®€å•é™çº§ï¼ˆæç¤ºç”¨æˆ·ï¼‰                       â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  ç»“æœ: "ä»åŒ—äº¬åˆ°ä¸Šæµ·"                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚
â”‚                       â†“                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 3ï¸âƒ£ AI å¤„ç†æ¨¡å—ï¼ˆå¤šæ¨¡å‹æ”¯æŒï¼‰                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚  â”‚  â”‚ ç»Ÿä¸€æ¥å£: ExtractNavigationIntent      â”‚          â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚
â”‚  â”‚           â”‚                                            â”‚  â”‚
â”‚  â”‚           â”œâ”€â†’ ChatGPT (OpenAI)                        â”‚  â”‚
â”‚  â”‚           â”‚    - gpt-3.5-turbo                         â”‚  â”‚
â”‚  â”‚           â”‚    - gpt-4                                 â”‚  â”‚
â”‚  â”‚           â”‚                                            â”‚  â”‚
â”‚  â”‚           â”œâ”€â†’ Claude (Anthropic)                      â”‚  â”‚
â”‚  â”‚           â”‚    - claude-3-5-sonnet                     â”‚  â”‚
â”‚  â”‚           â”‚    - claude-3-opus                         â”‚  â”‚
â”‚  â”‚           â”‚                                            â”‚  â”‚
â”‚  â”‚           â””â”€â†’ DeepSeek                                â”‚  â”‚
â”‚  â”‚                - deepseek-chat                         â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  ç»“æœ: { start: "åŒ—äº¬", end: "ä¸Šæµ·" }                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚
â”‚                       â†“                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 4ï¸âƒ£ MCP å·¥å…·æ¨¡å—                                       â”‚  â”‚
â”‚  â”‚    - GenerateBaiduMapURL()                            â”‚  â”‚
â”‚  â”‚    - GenerateAmapURL()                                â”‚  â”‚
â”‚  â”‚    - GenerateGoogleMapsURL()                          â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  ç»“æœ: "http://api.map.baidu.com/direction?..."      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚
â”‚                       â†“                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 5ï¸âƒ£ è¿”å›å“åº”                                           â”‚  â”‚
â”‚  â”‚    { success: true, url: "...", start, end }          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“ HTTP Response
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Web å‰ç«¯é¡µé¢                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 6ï¸âƒ£ æ¥æ”¶ URL å¹¶è·³è½¬                                    â”‚  â”‚
â”‚  â”‚    window.location.href = response.url                â”‚  â”‚
â”‚  â”‚    æˆ–                                                  â”‚  â”‚
â”‚  â”‚    iframe.src = response.url                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  åœ°å›¾æ˜¾ç¤ºï¼šç™¾åº¦åœ°å›¾/é«˜å¾·åœ°å›¾ä» A åˆ° B çš„å¯¼èˆª                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ æ–°çš„é¡¹ç›®ç»“æ„

```
qwall2/
â”œâ”€â”€ main.go                          # HTTP æœåŠ¡å™¨å…¥å£ ğŸ†•
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â”œâ”€â”€ config.yaml                      # é…ç½®æ–‡ä»¶ ğŸ†•
â”‚
â”œâ”€â”€ web/                             # Web å‰ç«¯ ğŸ†•
â”‚   â”œâ”€â”€ index.html                  # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ static/
â”‚   â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â”‚   â””â”€â”€ style.css
â”‚   â”‚   â””â”€â”€ js/
â”‚   â”‚       â””â”€â”€ app.js              # å‰ç«¯é€»è¾‘
â”‚   â””â”€â”€ assets/
â”‚       â””â”€â”€ images/
â”‚
â”œâ”€â”€ internal/                        # å†…éƒ¨åŒ… ğŸ†•
â”‚   â”‚
â”‚   â”œâ”€â”€ server/                     # HTTP æœåŠ¡å™¨ ğŸ†•
â”‚   â”‚   â”œâ”€â”€ server.go              # æœåŠ¡å™¨åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ handlers.go            # HTTP å¤„ç†å‡½æ•°
â”‚   â”‚   â””â”€â”€ middleware.go          # ä¸­é—´ä»¶ï¼ˆCORS, æ—¥å¿—ç­‰ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ stt/                        # è¯­éŸ³è½¬æ–‡å­— ğŸ†•
â”‚   â”‚   â”œâ”€â”€ stt.go                 # STT æ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ openai.go              # OpenAI Whisper
â”‚   â”‚   â”œâ”€â”€ local.go               # æœ¬åœ° STTï¼ˆé™çº§ï¼‰
â”‚   â”‚   â””â”€â”€ stt_test.go            # æµ‹è¯•
â”‚   â”‚
â”‚   â”œâ”€â”€ ai/                         # AI å¤„ç†æ¨¡å— ğŸ†•
â”‚   â”‚   â”œâ”€â”€ ai.go                  # AI æ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ chatgpt.go             # ChatGPT å®ç°
â”‚   â”‚   â”œâ”€â”€ claude.go              # Claude å®ç°
â”‚   â”‚   â”œâ”€â”€ deepseek.go            # DeepSeek å®ç°
â”‚   â”‚   â””â”€â”€ ai_test.go             # æµ‹è¯•
â”‚   â”‚
â”‚   â””â”€â”€ config/                     # é…ç½®ç®¡ç† ğŸ†•
â”‚       â”œâ”€â”€ config.go              # é…ç½®åŠ è½½
â”‚       â””â”€â”€ config_test.go
â”‚
â””â”€â”€ pkg/                            # å…¬å…±åŒ…ï¼ˆä¿ç•™ï¼‰
    â”œâ”€â”€ mapprovider/               # åœ°å›¾æä¾›å•†
    â”‚   â”œâ”€â”€ provider.go           # URL ç”Ÿæˆ
    â”‚   â””â”€â”€ provider_test.go
    â”‚
    â””â”€â”€ parser/                    # è‡ªç„¶è¯­è¨€è§£æï¼ˆä¿ç•™ä½œä¸ºå¤‡ç”¨ï¼‰
        â”œâ”€â”€ parser.go
        â””â”€â”€ parser_test.go
```

---

## ğŸ”§ æ¨¡å—è¯¦ç»†è®¾è®¡

### 1. STT æ¨¡å— - è‡ªåŠ¨é™çº§æœºåˆ¶

```go
// internal/stt/stt.go

type Client interface {
    TranscribeAudio(ctx context.Context, audio io.Reader, format string) (*Result, error)
}

// ä½¿ç”¨æ–¹å¼
sttClient := stt.NewClient(stt.Config{
    Provider: stt.ProviderAuto,  // è‡ªåŠ¨é™çº§
    OpenAIKey: "sk-xxx",
    EnableFallback: true,         // å¯ç”¨é™çº§
})

result, err := sttClient.TranscribeAudio(ctx, audioReader, "webm")
// ä¼˜å…ˆä½¿ç”¨ OpenAI Whisper
// å¤±è´¥åè‡ªåŠ¨é™çº§åˆ°æœ¬åœ° STT
```

**é™çº§ç­–ç•¥ï¼š**
1. **ä¼˜å…ˆ**ï¼šOpenAI Whisper APIï¼ˆé«˜ç²¾åº¦ï¼‰
2. **é™çº§1**ï¼šwhisper.cppï¼ˆæœ¬åœ°ï¼Œéœ€å®‰è£…ï¼‰
3. **é™çº§2**ï¼švoskï¼ˆæœ¬åœ°ï¼Œéœ€å®‰è£…ï¼‰
4. **æœ€ç»ˆ**ï¼šè¿”å›æç¤ºç”¨æˆ·ä½¿ç”¨æ–‡å­—è¾“å…¥

### 2. AI å¤„ç†æ¨¡å— - å¤šæ¨¡å‹æ”¯æŒ

```go
// internal/ai/ai.go

type Client interface {
    ExtractNavigationIntent(ctx context.Context, text string) (*NavigationIntent, error)
}

// ä½¿ç”¨æ–¹å¼ - ChatGPT
aiClient := ai.NewClient(ai.Config{
    Provider: ai.ProviderChatGPT,
    APIKey: "sk-xxx",
    Model: "gpt-3.5-turbo",
})

// ä½¿ç”¨æ–¹å¼ - Claude
aiClient := ai.NewClient(ai.Config{
    Provider: ai.ProviderClaude,
    APIKey: "sk-ant-xxx",
    Model: "claude-3-5-sonnet-20241022",
})

// ä½¿ç”¨æ–¹å¼ - DeepSeek
aiClient := ai.NewClient(ai.Config{
    Provider: ai.ProviderDeepSeek,
    APIKey: "sk-xxx",
    Model: "deepseek-chat",
})

intent, err := aiClient.ExtractNavigationIntent(ctx, "ä»åŒ—äº¬åˆ°ä¸Šæµ·")
// è¿”å›: { Start: "åŒ—äº¬", End: "ä¸Šæµ·" }
```

**æ”¯æŒçš„æ¨¡å‹ï¼š**

| æä¾›å•† | æ¨¡å‹ | ç‰¹ç‚¹ |
|--------|------|------|
| ChatGPT | gpt-3.5-turbo | å¿«é€Ÿã€ä¾¿å®œ |
| ChatGPT | gpt-4 | é«˜ç²¾åº¦ |
| Claude | claude-3-5-sonnet | å¹³è¡¡ |
| Claude | claude-3-opus | æœ€å¼º |
| DeepSeek | deepseek-chat | å›½äº§ã€ä¾¿å®œ |

### 3. HTTP API è®¾è®¡

#### POST /api/navigate

**æ–‡å­—è¯·æ±‚ï¼š**
```json
{
  "type": "text",
  "input": "ä»åŒ—äº¬åˆ°ä¸Šæµ·",
  "ai_provider": "chatgpt",     // å¯é€‰: chatgpt, claude, deepseek
  "map_provider": "baidu"       // å¯é€‰: baidu, amap, google
}
```

**è¯­éŸ³è¯·æ±‚ï¼š**
```json
{
  "type": "audio",
  "audio": "data:audio/webm;base64,GkXfo...",
  "format": "webm",              // éŸ³é¢‘æ ¼å¼
  "ai_provider": "claude",
  "map_provider": "amap"
}
```

**æˆåŠŸå“åº”ï¼š**
```json
{
  "success": true,
  "url": "http://api.map.baidu.com/direction?...",
  "start": "åŒ—äº¬",
  "end": "ä¸Šæµ·",
  "recognized_text": "ä»åŒ—äº¬åˆ°ä¸Šæµ·",  // å¦‚æœæ˜¯è¯­éŸ³
  "stt_provider": "openai",          // ä½¿ç”¨çš„ STT
  "ai_provider": "chatgpt",          // ä½¿ç”¨çš„ AI
  "map_provider": "baidu"
}
```

**å¤±è´¥å“åº”ï¼š**
```json
{
  "success": false,
  "error": "æ— æ³•è¯†åˆ«èµ·ç‚¹å’Œç»ˆç‚¹",
  "error_type": "extraction_failed",
  "details": {
    "recognized_text": "ä»Šå¤©å¤©æ°”çœŸå¥½",
    "stt_provider": "openai"
  }
}
```

---

## âš™ï¸ é…ç½®æ–‡ä»¶

```yaml
# config.yaml

server:
  port: 8080
  host: "0.0.0.0"

# STT é…ç½®
stt:
  provider: "auto"              # auto, openai, local
  openai_key: "${OPENAI_API_KEY}"
  model: "whisper-1"
  enable_fallback: true         # å¯ç”¨é™çº§
  local_model_path: "/usr/local/share/whisper/models"

# AI é…ç½®
ai:
  default_provider: "chatgpt"   # chatgpt, claude, deepseek
  
  chatgpt:
    api_key: "${OPENAI_API_KEY}"
    model: "gpt-3.5-turbo"
    base_url: "https://api.openai.com/v1"
  
  claude:
    api_key: "${ANTHROPIC_API_KEY}"
    model: "claude-3-5-sonnet-20241022"
    base_url: "https://api.anthropic.com/v1"
  
  deepseek:
    api_key: "${DEEPSEEK_API_KEY}"
    model: "deepseek-chat"
    base_url: "https://api.deepseek.com/v1"

# åœ°å›¾é…ç½®
map:
  default_provider: "baidu"     # baidu, amap, google
```

---

## ğŸš€ å®ç°è®¡åˆ’

### é˜¶æ®µ 1: åŸºç¡€åŠŸèƒ½ âœ…
- [x] STT æ¨¡å—ï¼ˆOpenAI + æœ¬åœ°é™çº§ï¼‰
- [x] AI æ¨¡å—ï¼ˆChatGPT, Claude, DeepSeekï¼‰
- [ ] HTTP æœåŠ¡å™¨
- [ ] ç®€å• Web é¡µé¢
- [ ] é…ç½®ç®¡ç†

### é˜¶æ®µ 2: å®Œæ•´åŠŸèƒ½
- [ ] è¯­éŸ³å½•åˆ¶å‰ç«¯
- [ ] é”™è¯¯å¤„ç†å’Œé‡è¯•
- [ ] æ—¥å¿—è®°å½•
- [ ] å•å…ƒæµ‹è¯•

### é˜¶æ®µ 3: ä¼˜åŒ–
- [ ] UI/UX æ”¹è¿›
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] Docker éƒ¨ç½²
- [ ] æ–‡æ¡£å®Œå–„

---

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### å¯åŠ¨æœåŠ¡

```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export OPENAI_API_KEY="sk-xxx"
export ANTHROPIC_API_KEY="sk-ant-xxx"

# å¯åŠ¨æœåŠ¡å™¨
go run main.go

# æˆ–ä½¿ç”¨é…ç½®æ–‡ä»¶
go run main.go -config config.yaml
```

### è®¿é—® Web é¡µé¢

```
http://localhost:8080
```

### API è°ƒç”¨ç¤ºä¾‹

```bash
# æ–‡å­—è¾“å…¥
curl -X POST http://localhost:8080/api/navigate \
  -H "Content-Type: application/json" \
  -d '{
    "type": "text",
    "input": "ä»åŒ—äº¬åˆ°ä¸Šæµ·",
    "ai_provider": "chatgpt"
  }'

# è¿”å›
{
  "success": true,
  "url": "http://api.map.baidu.com/direction?...",
  "start": "åŒ—äº¬",
  "end": "ä¸Šæµ·"
}
```

---

**ä¸‹ä¸€æ­¥ï¼šå¼€å§‹å®ç° HTTP æœåŠ¡å™¨å’Œ Web å‰ç«¯ï¼Ÿ** ğŸ¤”
