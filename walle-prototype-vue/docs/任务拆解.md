# ä»»åŠ¡æ‹†è§£ä¸å®æ–½è®¡åˆ’
# WALL-E: AI é©±åŠ¨çš„æ¡Œé¢æ“ä½œç³»ç»Ÿä»£ç†

---

## ğŸ“‘ æ–‡æ¡£ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|------|------|
| **é¡¹ç›®åç§°** | WALL-E (AI Copilot for PC) |
| **ç‰ˆæœ¬** | v1.0 |
| **æ–‡æ¡£ç±»å‹** | ä»»åŠ¡æ‹†è§£ä¸å®æ–½è®¡åˆ’ |
| **åˆ›å»ºæ—¥æœŸ** | 2025-10-26 |
| **åŸºäº** | PRD v3.0 + æ¶æ„è®¾è®¡æ–‡æ¡£ v1.0 |

---

## 1. ä»»åŠ¡æ‹†è§£æ¦‚è§ˆ

> **æ³¨**: æœ¬æ–‡æ¡£åŒ…å«ä¸¤éƒ¨åˆ†:
> - **ç¬¬ä¸€éƒ¨åˆ†**: å½“å‰å·²å®Œæˆçš„ä»»åŠ¡ (tao åˆ†æ”¯å®ç°)
> - **ç¬¬äºŒéƒ¨åˆ†**: è§„åˆ’ä¸­çš„ä»»åŠ¡ (æœªæ¥ macOS åŸç”Ÿç‰ˆæœ¬)

### 1.0 å½“å‰å®ç°çŠ¶æ€ (tao åˆ†æ”¯)

#### å·²å®Œæˆçš„é‡Œç¨‹ç¢‘

**M0: å¿«é€ŸåŸå‹éªŒè¯** âœ… å·²å®Œæˆ
- **æ—¶é—´**: 2025-10 æœˆ
- **æ¶æ„**: Vue + Go + FastGPT + MCP
- **æ ¸å¿ƒåŠŸèƒ½**: åœ°å›¾å¯¼èˆªè¯­éŸ³åŠ©æ‰‹

#### å·²å®Œæˆçš„ä»»åŠ¡æ¸…å•

| ä»»åŠ¡ ID | ä»»åŠ¡åç§° | çŠ¶æ€ | è¯´æ˜ |
|---------|---------|------|------|
| T0.1 | å‰ç«¯ Vue é¡¹ç›®åˆå§‹åŒ– | âœ… å®Œæˆ | voice-assistant/ ç›®å½• |
| T0.2 | Web Speech API é›†æˆ | âœ… å®Œæˆ | æµè§ˆå™¨åŸç”Ÿè¯­éŸ³è¯†åˆ« |
| T0.3 | è¯­éŸ³ç•Œé¢å®ç° | âœ… å®Œæˆ | App.vue ä¸»ç»„ä»¶ |
| T0.4 | è°ƒè¯•æ—¥å¿—é¢æ¿ | âœ… å®Œæˆ | å®æ—¶å¯¹è¯æ˜¾ç¤º |
| T0.5 | Go åç«¯æœåŠ¡ (WALL-E-SERVE) | âœ… å®Œæˆ | Gin HTTP æœåŠ¡å™¨ |
| T0.6 | FastGPT å®¢æˆ·ç«¯é›†æˆ | âœ… å®Œæˆ | fast/fastgpt.go |
| T0.7 | å“åº”æ¨¡å¼è§£æ | âœ… å®Œæˆ | JSON/çº¯æ–‡æœ¬åŒæ¨¡å¼ |
| T0.8 | MCP æœåŠ¡å™¨ (WALL-E-MCP) | âœ… å®Œæˆ | åœ°å›¾å¯¼èˆªå·¥å…· |
| T0.9 | navigate_map å·¥å…·å®ç° | âœ… å®Œæˆ | æ”¯æŒç™¾åº¦/é«˜å¾·/è°·æ­Œ |
| T0.10 | åœ°å›¾æä¾›å•†é€‚é… | âœ… å®Œæˆ | mapprovider/provider.go |
| T0.11 | URL ç”Ÿæˆé€»è¾‘ | âœ… å®Œæˆ | å¤šåœ°å›¾æœåŠ¡æ”¯æŒ |
| T0.12 | Makefile æ„å»ºè„šæœ¬ | âœ… å®Œæˆ | ä¸€é”®å¯åŠ¨å’Œè¿è¡Œ |
| T0.13 | ç«¯åˆ°ç«¯æµ‹è¯• | âœ… å®Œæˆ | è¯­éŸ³å¯¼èˆªå…¨æµç¨‹ |

#### å½“å‰æŠ€æœ¯æ ˆæ€»ç»“

| å±‚çº§ | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
|------|---------|------|
| **å‰ç«¯** | Vue.js 2.x | Web åº”ç”¨ |
| **è¯­éŸ³è¯†åˆ«** | Web Speech API | æµè§ˆå™¨åŸç”Ÿ |
| **åç«¯æœåŠ¡** | Go + Gin | HTTP API æœåŠ¡å™¨ |
| **AI å¹³å°** | FastGPT + QWen | äº‘ç«¯ AI ç†è§£ |
| **MCP å·¥å…·** | Go + mcp-go SDK | åœ°å›¾å¯¼èˆªå·¥å…· |
| **éƒ¨ç½²** | æœ¬åœ°è¿è¡Œ | ä¸‰ä¸ªæœåŠ¡ç‹¬ç«‹éƒ¨ç½² |

#### å½“å‰æ¶æ„ä¼˜åŠ¿

| ä¼˜åŠ¿ | è¯´æ˜ |
|------|------|
| âœ… å¿«é€ŸéªŒè¯ | Web æŠ€æœ¯æ ˆ,å¼€å‘é€Ÿåº¦å¿« |
| âœ… è·¨å¹³å° | æµè§ˆå™¨å³å¯è¿è¡Œ |
| âœ… ä½æˆæœ¬ | æ— éœ€æœ¬åœ° LLM,ä½¿ç”¨äº‘ç«¯ FastGPT |
| âœ… æ˜“æ‰©å±• | MCP æ¶æ„æ”¯æŒæ·»åŠ æ–°å·¥å…· |
| âœ… æ˜“éƒ¨ç½² | æ— éœ€æ‰“åŒ…,ç›´æ¥è¿è¡Œ |

#### å½“å‰æ¶æ„é™åˆ¶

| é™åˆ¶ | å½±å“ | æœªæ¥æ”¹è¿› |
|------|------|---------|
| âš ï¸ ä¾èµ–æµè§ˆå™¨ | éœ€è¦æ‰“å¼€æµè§ˆå™¨ä½¿ç”¨ | å¼€å‘åŸç”Ÿ macOS åº”ç”¨ |
| âš ï¸ æ— å”¤é†’è¯ | éœ€è¦æ‰‹åŠ¨ç‚¹å‡»"å¼€å§‹è†å¬" | é›†æˆ Porcupine æœ¬åœ°å”¤é†’ |
| âš ï¸ ä¾èµ–äº‘ç«¯ AI | éœ€è¦ç½‘ç»œå’Œ API Key | æ”¯æŒæœ¬åœ° LLM æ¨¡å‹ |
| âš ï¸ æ— ç³»ç»Ÿé›†æˆ | ä¸èƒ½æ§åˆ¶ç³»ç»Ÿ/åº”ç”¨ | å¼€å‘ç³»ç»Ÿæ§åˆ¶å·¥å…· |

---

### 1.1 æ€»ä½“æ—¶é—´è§„åˆ’ (æœªæ¥ç‰ˆæœ¬)

| é˜¶æ®µ | æ—¶é—´ | æ ¸å¿ƒç›®æ ‡ | äº¤ä»˜ç‰© |
|------|------|----------|--------|
| **é˜¶æ®µä¸€: MVP** | 2-3 å‘¨ | éªŒè¯æŠ€æœ¯å¯è¡Œæ€§ | åœ°å›¾å¯¼èˆªåŠŸèƒ½ Demo |
| **é˜¶æ®µäºŒ: åŠŸèƒ½æ‰©å±•** | 2-3 å‘¨ | å¢åŠ å®ç”¨å·¥å…· | 4 ç§æ“ä½œç±»å‹ |
| **é˜¶æ®µä¸‰: é«˜çº§èƒ½åŠ›** | 2-3 å‘¨ | å¤æ‚æ“ä½œæ”¯æŒ | æµè§ˆå™¨æ§åˆ¶ + ç³»ç»Ÿæ§åˆ¶ |
| **é˜¶æ®µå››: ä¼˜åŒ–å‘å¸ƒ** | 1-2 å‘¨ | æ€§èƒ½ä¼˜åŒ– + å‘å¸ƒ | V1.0 æ­£å¼ç‰ˆæœ¬ |

**æ€»å¼€å‘å‘¨æœŸ**: 8-10 å‘¨ (çº¦ 2-2.5 ä¸ªæœˆ)

---

## 2. é˜¶æ®µä¸€: MVP (2-3 å‘¨)

### ç›®æ ‡
éªŒè¯æ ¸å¿ƒæŠ€æœ¯å¯è¡Œæ€§,å®ç°åŸºç¡€åœ°å›¾å¯¼èˆªåŠŸèƒ½ã€‚

---

### ä»»åŠ¡ 1.1: é¡¹ç›®åˆå§‹åŒ–

**ä¼˜å…ˆçº§**: P0  
**é¢„è®¡æ—¶é—´**: 1-2 å¤©  
**è´Ÿè´£æ¨¡å—**: å…¨æ ˆ

#### å­ä»»åŠ¡

1. **åˆ›å»ºé¡¹ç›®ç»“æ„**
   ```bash
   walle/
   â”œâ”€â”€ macos-app/           # Swift macOS åº”ç”¨
   â”‚   â”œâ”€â”€ WALLE/
   â”‚   â”‚   â”œâ”€â”€ App/         # åº”ç”¨å…¥å£
   â”‚   â”‚   â”œâ”€â”€ UI/          # UI ç»„ä»¶
   â”‚   â”‚   â””â”€â”€ Services/    # Swift æœåŠ¡å±‚
   â”‚   â””â”€â”€ WALLE.xcodeproj
   â”œâ”€â”€ core-service/        # Go æ ¸å¿ƒæœåŠ¡
   â”‚   â”œâ”€â”€ cmd/
   â”‚   â”‚   â””â”€â”€ walle-core/  # ä¸»ç¨‹åºå…¥å£
   â”‚   â”œâ”€â”€ internal/
   â”‚   â”‚   â”œâ”€â”€ stt/         # STT æ¨¡å—
   â”‚   â”‚   â”œâ”€â”€ ai/          # AI ç†è§£å¼•æ“
   â”‚   â”‚   â”œâ”€â”€ mcp/         # MCP å®¢æˆ·ç«¯
   â”‚   â”‚   â””â”€â”€ config/      # é…ç½®ç®¡ç†
   â”‚   â””â”€â”€ go.mod
   â”œâ”€â”€ mcp-tools/           # MCP å·¥å…·é›†åˆ
   â”‚   â”œâ”€â”€ map-navigation/  # åœ°å›¾å¯¼èˆªå·¥å…·
   â”‚   â”œâ”€â”€ weather-query/   # å¤©æ°”æŸ¥è¯¢å·¥å…·
   â”‚   â””â”€â”€ music-player/    # éŸ³ä¹æ’­æ”¾å·¥å…·
   â””â”€â”€ docs/                # æ–‡æ¡£
   ```

2. **é…ç½®å¼€å‘ç¯å¢ƒ**
   - å®‰è£… Xcode (Swift å¼€å‘)
   - å®‰è£… Go 1.21+
   - å®‰è£… Node.js 18+ (MCP å·¥å…·å¼€å‘)
   - å®‰è£…ä¾èµ–åŒ…ç®¡ç†å·¥å…· (CocoaPods/SPM, Go Modules, npm)

3. **åˆå§‹åŒ– Git ä»“åº“**
   - åˆ›å»º `.gitignore`
   - è®¾ç½®åˆ†æ”¯ç­–ç•¥: `main`, `develop`, `feature/*`

4. **é…ç½® CI/CD**
   - GitHub Actions é…ç½®æ–‡ä»¶
   - è‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹
   - è‡ªåŠ¨åŒ–æ„å»ºæµç¨‹

**éªŒæ”¶æ ‡å‡†**:
- âœ… é¡¹ç›®ç»“æ„åˆ›å»ºå®Œæˆ
- âœ… å¼€å‘ç¯å¢ƒé…ç½®å®Œæˆ
- âœ… å¯ä»¥æˆåŠŸç¼–è¯‘ Swift å’Œ Go é¡¹ç›®

---

### ä»»åŠ¡ 1.2: Swift macOS åº”ç”¨æ¡†æ¶

**ä¼˜å…ˆçº§**: P0  
**é¢„è®¡æ—¶é—´**: 3-4 å¤©  
**è´Ÿè´£æ¨¡å—**: macOS App (Swift)

#### å­ä»»åŠ¡

1. **åˆ›å»ºç³»ç»Ÿæ‰˜ç›˜åº”ç”¨**
   ```swift
   // AppDelegate.swift
   class AppDelegate: NSObject, NSApplicationDelegate {
       var statusItem: NSStatusItem?
       
       func applicationDidFinishLaunching(_ notification: Notification) {
           setupStatusBar()
       }
       
       func setupStatusBar() {
           statusItem = NSStatusBar.system.statusItem(withLength: NSStatusItem.variableLength)
           statusItem?.button?.image = NSImage(systemSymbolName: "sparkles", accessibilityDescription: "WALL-E")
       }
   }
   ```

2. **å®ç°æ–‡å­—è¾“å…¥ç•Œé¢ (SwiftUI)**
   ```swift
   struct InputWindow: View {
       @State private var inputText = ""
       
       var body: some View {
           VStack(spacing: 16) {
               TextField("è¾“å…¥æŒ‡ä»¤...", text: $inputText)
                   .textFieldStyle(RoundedBorderTextFieldStyle())
                   .onSubmit {
                       handleInput(inputText)
                   }
               
               Button("å‘é€") {
                   handleInput(inputText)
               }
           }
           .padding()
           .frame(width: 400, height: 100)
       }
       
       func handleInput(_ text: String) {
           // TODO: è°ƒç”¨ Go æ ¸å¿ƒæœåŠ¡
       }
   }
   ```

3. **å…¨å±€å¿«æ·é”®ç›‘å¬**
   ```swift
   import Carbon
   
   class HotKeyManager {
       func registerHotKey(key: UInt32, modifiers: UInt32, handler: @escaping () -> Void) {
           // ä½¿ç”¨ Carbon API æ³¨å†Œå…¨å±€å¿«æ·é”®
       }
   }
   ```

4. **æƒé™ç”³è¯·ç•Œé¢**
   - éº¦å…‹é£æƒé™ç”³è¯·
   - è¾…åŠ©åŠŸèƒ½æƒé™ç”³è¯·

**éªŒæ”¶æ ‡å‡†**:
- âœ… ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡æ˜¾ç¤º
- âœ… ç‚¹å‡»å›¾æ ‡æ‰“å¼€è¾“å…¥çª—å£
- âœ… å…¨å±€å¿«æ·é”® Cmd+Space å”¤é†’
- âœ… æ–‡å­—è¾“å…¥æ¡†å¯ä»¥æ¥æ”¶è¾“å…¥

---

### ä»»åŠ¡ 1.3: è¯­éŸ³è¾“å…¥æ¨¡å— (åŸºç¡€ç‰ˆ)

**ä¼˜å…ˆçº§**: P0  
**é¢„è®¡æ—¶é—´**: 2-3 å¤©  
**è´Ÿè´£æ¨¡å—**: macOS App (Swift)

#### å­ä»»åŠ¡

1. **é›†æˆ Porcupine å”¤é†’è¯å¼•æ“**
   ```swift
   import Porcupine
   
   class WakeWordDetector {
       private var porcupine: Porcupine?
       
       func start() throws {
           porcupine = try Porcupine(keyword: .xiaoqi) // å°ä¸ƒå°ä¸ƒ
           // å¼€å§‹ç›‘å¬éº¦å…‹é£
       }
       
       func onWakeWordDetected(handler: @escaping () -> Void) {
           // æ£€æµ‹åˆ°å”¤é†’è¯æ—¶çš„å›è°ƒ
       }
   }
   ```

2. **å®ç°éŸ³é¢‘é‡‡é›†**
   ```swift
   import AVFoundation
   
   class AudioCapture {
       private let audioEngine = AVAudioEngine()
       
       func startRecording() {
           let inputNode = audioEngine.inputNode
           let recordingFormat = inputNode.outputFormat(forBus: 0)
           
           inputNode.installTap(onBus: 0, bufferSize: 1024, format: recordingFormat) { buffer, _ in
               self.processAudioBuffer(buffer)
           }
           
           try? audioEngine.start()
       }
       
       func stopRecording() {
           audioEngine.stop()
           audioEngine.inputNode.removeTap(onBus: 0)
       }
   }
   ```

3. **å®ç°ç®€å•çš„ VAD (è¯­éŸ³æ´»åŠ¨æ£€æµ‹)**
   ```swift
   class SimpleVAD {
       func isSpeechDetected(buffer: AVAudioPCMBuffer) -> Bool {
           // ç®€å•çš„èƒ½é‡æ£€æµ‹ç®—æ³•
           let channelData = buffer.floatChannelData![0]
           let frameLength = Int(buffer.frameLength)
           
           var sum: Float = 0
           for i in 0..<frameLength {
               sum += abs(channelData[i])
           }
           
           let average = sum / Float(frameLength)
           return average > 0.01 // é˜ˆå€¼
       }
   }
   ```

**éªŒæ”¶æ ‡å‡†**:
- âœ… è¯´"å°ä¸ƒå°ä¸ƒ"å¯ä»¥å”¤é†’ç³»ç»Ÿ
- âœ… å”¤é†’åå¼€å§‹å½•éŸ³
- âœ… æ£€æµ‹åˆ°è¯­éŸ³ç»“æŸååœæ­¢å½•éŸ³

---

### ä»»åŠ¡ 1.4: Go æ ¸å¿ƒæœåŠ¡ - STT é›†æˆ

**ä¼˜å…ˆçº§**: P0  
**é¢„è®¡æ—¶é—´**: 2-3 å¤©  
**è´Ÿè´£æ¨¡å—**: Core Service (Go)

#### å­ä»»åŠ¡

1. **åˆ›å»º gRPC æœåŠ¡**
   ```go
   // proto/walle.proto
   syntax = "proto3";
   
   service WALLEService {
       rpc ProcessTextInput(TextInputRequest) returns (TextInputResponse);
       rpc ProcessVoiceInput(VoiceInputRequest) returns (VoiceInputResponse);
   }
   ```

2. **é›†æˆé˜¿é‡Œäº‘ STT**
   ```go
   package stt
   
   import (
       alibabacloud "github.com/alibabacloud-go/darabonba-openapi/client"
   )
   
   type AliyunSTT struct {
       client *alibabacloud.Client
       appKey string
   }
   
   func (s *AliyunSTT) Transcribe(audioData []byte) (string, error) {
       // è°ƒç”¨é˜¿é‡Œäº‘è¯­éŸ³è¯†åˆ« API
       // è¿”å›è¯†åˆ«çš„æ–‡æœ¬
   }
   ```

3. **å®ç° STT ç®¡ç†å™¨ (æ”¯æŒé™çº§)**
   ```go
   type STTManager struct {
       engines []STTEngine
   }
   
   func (m *STTManager) Transcribe(audio []byte) (string, error) {
       for _, engine := range m.engines {
           text, err := engine.Transcribe(audio)
           if err == nil {
               return text, nil
           }
           log.Warnf("STT engine failed, trying fallback: %v", err)
       }
       return "", errors.New("all STT engines failed")
   }
   ```

**éªŒæ”¶æ ‡å‡†**:
- âœ… gRPC æœåŠ¡å¯ä»¥å¯åŠ¨
- âœ… æ¥æ”¶éŸ³é¢‘æ•°æ®å¹¶è°ƒç”¨ STT API
- âœ… è¿”å›è¯†åˆ«çš„æ–‡æœ¬

---

### ä»»åŠ¡ 1.5: AI ç†è§£å¼•æ“ (åŸºç¡€ç‰ˆ)

**ä¼˜å…ˆçº§**: P0  
**é¢„è®¡æ—¶é—´**: 2-3 å¤©  
**è´Ÿè´£æ¨¡å—**: Core Service (Go)

#### å­ä»»åŠ¡

1. **é›†æˆ ChatGPT API**
   ```go
   package ai
   
   import "github.com/sashabaranov/go-openai"
   
   type ChatGPTClient struct {
       client *openai.Client
   }
   
   func (c *ChatGPTClient) Chat(ctx context.Context, messages []Message, tools []Tool) (*Response, error) {
       req := openai.ChatCompletionRequest{
           Model:    openai.GPT4,
           Messages: convertMessages(messages),
           Tools:    convertTools(tools),
       }
       
       resp, err := c.client.CreateChatCompletion(ctx, req)
       if err != nil {
           return nil, err
       }
       
       return parseResponse(resp), nil
   }
   ```

2. **å®ç°æ„å›¾è¯†åˆ«**
   ```go
   type AIEngine struct {
       llmClient LLMClient
       mcpClient *MCPClient
   }
   
   func (e *AIEngine) Understand(ctx context.Context, input string) (*Intent, error) {
       // 1. è·å–å¯ç”¨å·¥å…·
       tools := e.mcpClient.GetAvailableTools()
       
       // 2. æ„é€  Prompt
       systemPrompt := "ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹,å¸®åŠ©ç”¨æˆ·æ“ä½œç”µè„‘ã€‚æ ¹æ®ç”¨æˆ·è¾“å…¥,é€‰æ‹©åˆé€‚çš„å·¥å…·å¹¶æå–å‚æ•°ã€‚"
       
       messages := []Message{
           {Role: "system", Content: systemPrompt},
           {Role: "user", Content: input},
       }
       
       // 3. è°ƒç”¨ LLM
       response, err := e.llmClient.Chat(ctx, messages, tools)
       if err != nil {
           return nil, err
       }
       
       // 4. è§£æå·¥å…·è°ƒç”¨
       return parseIntent(response), nil
   }
   ```

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ¥æ”¶ç”¨æˆ·è¾“å…¥æ–‡æœ¬
- âœ… è°ƒç”¨ ChatGPT API è¿›è¡Œæ„å›¾è¯†åˆ«
- âœ… è¿”å›ç»“æ„åŒ–çš„æ„å›¾å’Œå‚æ•°

---

### ä»»åŠ¡ 1.6: MCP å®¢æˆ·ç«¯åŸºç¡€å®ç°

**ä¼˜å…ˆçº§**: P0  
**é¢„è®¡æ—¶é—´**: 2-3 å¤©  
**è´Ÿè´£æ¨¡å—**: Core Service (Go)

#### å­ä»»åŠ¡

1. **å®ç° MCP å®¢æˆ·ç«¯**
   ```go
   package mcp
   
   import "github.com/modelcontextprotocol/sdk-go/mcp"
   
   type MCPClient struct {
       servers map[string]*MCPServer
       tools   map[string]*Tool
   }
   
   func (c *MCPClient) ConnectServer(config ServerConfig) error {
       conn, err := mcp.NewStdioConnection(config.Command, config.Args, config.Env)
       if err != nil {
           return err
       }
       
       server := &MCPServer{
           Name:       config.Name,
           Connection: conn,
       }
       
       // å‘ç°å·¥å…·
       tools, err := server.ListTools()
       if err != nil {
           return err
       }
       
       c.servers[config.Name] = server
       for _, tool := range tools {
           c.tools[tool.Name] = tool
       }
       
       return nil
   }
   
   func (c *MCPClient) CallTool(ctx context.Context, toolName string, params map[string]interface{}) (*ToolResult, error) {
       tool := c.tools[toolName]
       server := c.servers[tool.ServerName]
       
       return server.CallTool(ctx, toolName, params)
   }
   ```

**éªŒæ”¶æ ‡å‡†**:
- âœ… å¯ä»¥è¿æ¥ MCP Server
- âœ… å¯ä»¥å‘ç°å·¥å…·åˆ—è¡¨
- âœ… å¯ä»¥è°ƒç”¨å·¥å…·å¹¶è·å–ç»“æœ

---

### ä»»åŠ¡ 1.7: åœ°å›¾å¯¼èˆª MCP å·¥å…·

**ä¼˜å…ˆçº§**: P0  
**é¢„è®¡æ—¶é—´**: 1-2 å¤©  
**è´Ÿè´£æ¨¡å—**: MCP Tools (TypeScript)

#### å­ä»»åŠ¡

1. **åˆ›å»º MCP Server**
   ```typescript
   // mcp-tools/map-navigation/src/index.ts
   import { Server } from '@modelcontextprotocol/sdk';
   import { exec } from 'child_process';
   
   const server = new Server({
     name: 'map-navigation',
     version: '1.0.0',
   });
   
   server.setRequestHandler('tools/list', async () => ({
     tools: [
       {
         name: 'navigate_map',
         description: 'æ‰“å¼€åœ°å›¾åº”ç”¨å¹¶å¯¼èˆªåˆ°æŒ‡å®šåœ°ç‚¹',
         inputSchema: {
           type: 'object',
           properties: {
             origin: { type: 'string', description: 'èµ·ç‚¹åœ°å€' },
             destination: { type: 'string', description: 'ç›®çš„åœ°åœ°å€' },
             mapProvider: { 
               type: 'string', 
               enum: ['baidu', 'amap', 'google'],
               default: 'baidu' 
             },
           },
           required: ['destination']
         }
       }
     ]
   }));
   
   server.setRequestHandler('tools/call', async (request) => {
     const { name, arguments: args } = request.params;
     
     if (name === 'navigate_map') {
       const url = buildMapURL(args);
       
       // ä½¿ç”¨ macOS open å‘½ä»¤æ‰“å¼€ URL
       exec(`open "${url}"`, (error) => {
         if (error) {
           throw new Error(`Failed to open map: ${error.message}`);
         }
       });
       
       return {
         content: [
           {
             type: 'text',
             text: `å·²æ‰“å¼€åœ°å›¾å¯¼èˆª: ${args.origin || 'å½“å‰ä½ç½®'} â†’ ${args.destination}`
           }
         ]
       };
     }
   });
   
   function buildMapURL(args: any): string {
     const { origin, destination, mapProvider } = args;
     
     switch (mapProvider) {
       case 'baidu':
         return `https://map.baidu.com/?from=${origin}&to=${destination}`;
       case 'amap':
         return `https://uri.amap.com/navigation?from=${origin}&to=${destination}`;
       case 'google':
         return `https://maps.google.com/?saddr=${origin}&daddr=${destination}`;
       default:
         return `https://map.baidu.com/?to=${destination}`;
     }
   }
   
   server.start();
   ```

2. **é…ç½® package.json**
   ```json
   {
     "name": "@walle/map-navigation",
     "version": "1.0.0",
     "main": "dist/index.js",
     "bin": {
       "map-navigation-server": "./dist/index.js"
     },
     "scripts": {
       "build": "tsc",
       "start": "node dist/index.js"
     },
     "dependencies": {
       "@modelcontextprotocol/sdk": "^1.0.0"
     }
   }
   ```

**éªŒæ”¶æ ‡å‡†**:
- âœ… MCP Server å¯ä»¥å¯åŠ¨
- âœ… å¯ä»¥æ­£ç¡®å“åº” tools/list è¯·æ±‚
- âœ… è°ƒç”¨ navigate_map å¯ä»¥æ‰“å¼€åœ°å›¾åº”ç”¨

---

### ä»»åŠ¡ 1.8: ç«¯åˆ°ç«¯é›†æˆæµ‹è¯•

**ä¼˜å…ˆçº§**: P0  
**é¢„è®¡æ—¶é—´**: 1-2 å¤©  
**è´Ÿè´£æ¨¡å—**: å…¨æ ˆ

#### æµ‹è¯•åœºæ™¯

1. **æ–‡å­—è¾“å…¥æµç¨‹**
   - ç”¨æˆ·è¾“å…¥: "ä»ä¸Šæµ·ä¸ƒç‰›äº‘åˆ°è™¹æ¡¥æœºåœº"
   - é¢„æœŸç»“æœ: æ‰“å¼€åœ°å›¾åº”ç”¨,æ˜¾ç¤ºå¯¼èˆªè·¯çº¿

2. **è¯­éŸ³è¾“å…¥æµç¨‹**
   - ç”¨æˆ·è¯´: "å°ä¸ƒå°ä¸ƒ,ä»ä¸Šæµ·ä¸ƒç‰›äº‘åˆ°è™¹æ¡¥æœºåœº"
   - é¢„æœŸç»“æœ: æ‰“å¼€åœ°å›¾åº”ç”¨,æ˜¾ç¤ºå¯¼èˆªè·¯çº¿

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ–‡å­—è¾“å…¥æµç¨‹æ­£å¸¸å·¥ä½œ
- âœ… è¯­éŸ³è¾“å…¥æµç¨‹æ­£å¸¸å·¥ä½œ (å¯é€‰,å¦‚æ—¶é—´ä¸å¤Ÿå¯å»¶å)
- âœ… ç«¯åˆ°ç«¯å»¶è¿Ÿ < 10 ç§’

---

## 3. é˜¶æ®µäºŒ: åŠŸèƒ½æ‰©å±• (2-3 å‘¨)

### ç›®æ ‡
å¢åŠ æ›´å¤šå®ç”¨å·¥å…·,å®Œå–„ç”¨æˆ·ä½“éªŒã€‚

---

### ä»»åŠ¡ 2.1: å¤©æ°”æŸ¥è¯¢å·¥å…·

**ä¼˜å…ˆçº§**: P0  
**é¢„è®¡æ—¶é—´**: 2-3 å¤©  
**è´Ÿè´£æ¨¡å—**: MCP Tools (Python)

#### å­ä»»åŠ¡

1. **åˆ›å»ºå¤©æ°”æŸ¥è¯¢ MCP Server**
   ```python
   # mcp-tools/weather-query/server.py
   from mcp.server import Server
   from mcp.types import Tool, TextContent
   import requests
   
   app = Server("weather-query")
   
   @app.list_tools()
   async def list_tools() -> list[Tool]:
       return [
           Tool(
               name="query_weather",
               description="æŸ¥è¯¢æŒ‡å®šåœ°ç‚¹çš„å¤©æ°”ä¿¡æ¯",
               inputSchema={
                   "type": "object",
                   "properties": {
                       "location": {"type": "string", "description": "åœ°ç‚¹åç§°"},
                       "date": {"type": "string", "description": "æ—¥æœŸ (today/tomorrow)"},
                   },
                   "required": ["location"]
               }
           )
       ]
   
   @app.call_tool()
   async def call_tool(name: str, arguments: dict):
       if name == "query_weather":
           location = arguments["location"]
           date = arguments.get("date", "today")
           
           # è°ƒç”¨å½©äº‘å¤©æ°” API
           weather_data = fetch_weather_from_caiyun(location, date)
           
           return [
               TextContent(
                   type="text",
                   text=format_weather(weather_data)
               )
           ]
   
   def fetch_weather_from_caiyun(location: str, date: str):
       # TODO: è°ƒç”¨å½©äº‘å¤©æ°” API
       pass
   
   def format_weather(data):
       return f"æ¸©åº¦: {data['temp']}Â°C, å¤©æ°”: {data['desc']}, é™é›¨æ¦‚ç‡: {data['rain_prob']}%"
   ```

2. **é›†æˆåˆ° MCP å®¢æˆ·ç«¯**
   - æ·»åŠ é…ç½®åˆ° `config.json`
   - æµ‹è¯•å·¥å…·è°ƒç”¨

**éªŒæ”¶æ ‡å‡†**:
- âœ… å¤©æ°”æŸ¥è¯¢å·¥å…·å¯ä»¥æ­£å¸¸å·¥ä½œ
- âœ… ç”¨æˆ·è¾“å…¥"æŸ¥çœ‹æ˜å¤©ä¸Šæµ·çš„å¤©æ°”"å¯ä»¥å¾—åˆ°æ­£ç¡®ç»“æœ

---

### ä»»åŠ¡ 2.2: éŸ³ä¹æ’­æ”¾å·¥å…·

**ä¼˜å…ˆçº§**: P1  
**é¢„è®¡æ—¶é—´**: 2-3 å¤©  
**è´Ÿè´£æ¨¡å—**: MCP Tools (Go)

#### å­ä»»åŠ¡

1. **åˆ›å»ºéŸ³ä¹æ’­æ”¾ MCP Server**
   ```go
   // mcp-tools/music-player/main.go
   package main
   
   import (
       "github.com/modelcontextprotocol/sdk-go/mcp"
       "os/exec"
   )
   
   func main() {
       server := mcp.NewServer("music-player", "1.0.0")
       
       server.HandleListTools(func() ([]mcp.Tool, error) {
           return []mcp.Tool{
               {
                   Name:        "play_music",
                   Description: "æ’­æ”¾æŒ‡å®šçš„éŸ³ä¹",
                   InputSchema: map[string]interface{}{
                       "type": "object",
                       "properties": map[string]interface{}{
                           "song":   map[string]string{"type": "string"},
                           "artist": map[string]string{"type": "string"},
                       },
                       "required": []string{"song"},
                   },
               },
           }, nil
       })
       
       server.HandleCallTool(func(name string, params map[string]interface{}) (*mcp.ToolResult, error) {
           if name == "play_music" {
               song := params["song"].(string)
               artist := params["artist"].(string)
               
               // ä½¿ç”¨ AppleScript æ§åˆ¶ Music.app
               script := fmt.Sprintf(`
                   tell application "Music"
                       play (first track whose name contains "%s" and artist contains "%s")
                   end tell
               `, song, artist)
               
               cmd := exec.Command("osascript", "-e", script)
               err := cmd.Run()
               if err != nil {
                   return nil, err
               }
               
               return &mcp.ToolResult{
                   Content: []mcp.Content{
                       {Type: "text", Text: fmt.Sprintf("æ­£åœ¨æ’­æ”¾: %s - %s", artist, song)},
                   },
               }, nil
           }
           return nil, fmt.Errorf("unknown tool: %s", name)
       })
       
       server.Start()
   }
   ```

**éªŒæ”¶æ ‡å‡†**:
- âœ… éŸ³ä¹æ’­æ”¾å·¥å…·å¯ä»¥æ­£å¸¸å·¥ä½œ
- âœ… ç”¨æˆ·è¾“å…¥"æ’­æ”¾å‘¨æ°ä¼¦çš„æ™´å¤©"å¯ä»¥æ‰“å¼€éŸ³ä¹åº”ç”¨å¹¶æ’­æ”¾

---

### ä»»åŠ¡ 2.3: åº”ç”¨å¯åŠ¨å·¥å…·

**ä¼˜å…ˆçº§**: P1  
**é¢„è®¡æ—¶é—´**: 1-2 å¤©  
**è´Ÿè´£æ¨¡å—**: MCP Tools (Shell)

#### å­ä»»åŠ¡

1. **åˆ›å»ºåº”ç”¨å¯åŠ¨ MCP Server**
   ```bash
   # mcp-tools/app-launcher/launcher.sh
   #!/bin/bash
   
   case "$1" in
       safari)
           open -a "Safari"
           ;;
       chrome)
           open -a "Google Chrome"
           ;;
       vscode)
           open -a "Visual Studio Code"
           ;;
       *)
           open -a "$1"
           ;;
   esac
   ```

2. **å°è£…ä¸º MCP Server** (ä½¿ç”¨ Node.js åŒ…è£…)

**éªŒæ”¶æ ‡å‡†**:
- âœ… å¯ä»¥å¯åŠ¨å¸¸è§åº”ç”¨ (Safari, Chrome, VSCode ç­‰)
- âœ… ç”¨æˆ·è¾“å…¥"æ‰“å¼€ Safari"å¯ä»¥å¯åŠ¨ Safari

---

### ä»»åŠ¡ 2.4: å¤šè½®å¯¹è¯æ”¯æŒ

**ä¼˜å…ˆçº§**: P1  
**é¢„è®¡æ—¶é—´**: 2-3 å¤©  
**è´Ÿè´£æ¨¡å—**: Core Service (Go)

#### å­ä»»åŠ¡

1. **å®ç°ä¸Šä¸‹æ–‡ç®¡ç†**
   ```go
   type ContextStore struct {
       mu       sync.RWMutex
       sessions map[string]*Session
   }
   
   type Session struct {
       SessionID   string
       Messages    []Message
       LastIntent  *Intent
       CreatedAt   time.Time
   }
   
   func (c *ContextStore) GetContext(sessionID string) []Message {
       c.mu.RLock()
       defer c.mu.RUnlock()
       
       session := c.sessions[sessionID]
       if session == nil {
           return []Message{}
       }
       
       // è¿”å›æœ€è¿‘ 5 è½®å¯¹è¯
       if len(session.Messages) <= 10 {
           return session.Messages
       }
       return session.Messages[len(session.Messages)-10:]
   }
   ```

2. **æ›´æ–° AI å¼•æ“ä»¥æ”¯æŒä¸Šä¸‹æ–‡**
   ```go
   func (e *AIEngine) Understand(ctx context.Context, sessionID string, input string) (*Intent, error) {
       // 1. è·å–å†å²ä¸Šä¸‹æ–‡
       contextMessages := e.contextStore.GetContext(sessionID)
       
       // 2. æ·»åŠ å½“å‰è¾“å…¥
       messages := append(contextMessages, Message{
           Role:    "user",
           Content: input,
       })
       
       // 3. è°ƒç”¨ LLM
       response, err := e.llmClient.Chat(ctx, messages, tools)
       
       // 4. æ›´æ–°ä¸Šä¸‹æ–‡
       e.contextStore.UpdateContext(sessionID, messages, response)
       
       return parseIntent(response), nil
   }
   ```

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ”¯æŒç®€å•çš„å¤šè½®å¯¹è¯
- âœ… ä¾‹å¦‚: "æŸ¥çœ‹ä¸Šæµ·å¤©æ°”" â†’ "æ˜å¤©å‘¢?" (å¯ä»¥ç†è§£"æ˜å¤©"æŒ‡æ˜å¤©ä¸Šæµ·çš„å¤©æ°”)

---

### ä»»åŠ¡ 2.5: å†å²è®°å½•åŠŸèƒ½

**ä¼˜å…ˆçº§**: P2  
**é¢„è®¡æ—¶é—´**: 2-3 å¤©  
**è´Ÿè´£æ¨¡å—**: macOS App + Core Service

#### å­ä»»åŠ¡

1. **æ•°æ®åº“è®¾è®¡ (SQLite)**
   ```sql
   CREATE TABLE history (
       id TEXT PRIMARY KEY,
       session_id TEXT,
       input TEXT,
       intent TEXT,
       tool_calls TEXT,
       result TEXT,
       success BOOLEAN,
       created_at TIMESTAMP
   );
   ```

2. **å†å²è®°å½• UI**
   ```swift
   struct HistoryView: View {
       @State var historyItems: [HistoryItem] = []
       
       var body: some View {
           List(historyItems) { item in
               VStack(alignment: .leading) {
                   Text(item.input)
                       .font(.headline)
                   Text(item.result)
                       .font(.subheadline)
                       .foregroundColor(.gray)
               }
           }
       }
   }
   ```

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ‰€æœ‰æ“ä½œè®°å½•åˆ°æ•°æ®åº“
- âœ… ç”¨æˆ·å¯ä»¥æŸ¥çœ‹å†å²è®°å½•

---

## 4. é˜¶æ®µä¸‰: é«˜çº§èƒ½åŠ› (2-3 å‘¨)

### ç›®æ ‡
å®ç°å¤æ‚æ“ä½œ,æå‡æ™ºèƒ½åŒ–æ°´å¹³ã€‚

---

### ä»»åŠ¡ 3.1: æµè§ˆå™¨æ§åˆ¶å·¥å…·

**ä¼˜å…ˆçº§**: P1  
**é¢„è®¡æ—¶é—´**: 4-5 å¤©  
**è´Ÿè´£æ¨¡å—**: MCP Tools (TypeScript + Playwright)

#### å­ä»»åŠ¡

1. **åˆ›å»ºæµè§ˆå™¨æ§åˆ¶ MCP Server**
   ```typescript
   // mcp-tools/browser-control/src/index.ts
   import { Server } from '@modelcontextprotocol/sdk';
   import { chromium, Browser, Page } from 'playwright';
   
   let browser: Browser | null = null;
   let page: Page | null = null;
   
   const server = new Server({
     name: 'browser-control',
     version: '1.0.0',
   });
   
   server.setRequestHandler('tools/list', async () => ({
     tools: [
       {
         name: 'open_url',
         description: 'æ‰“å¼€æŒ‡å®šçš„ç½‘é¡µ',
         inputSchema: {
           type: 'object',
           properties: {
             url: { type: 'string', description: 'ç½‘é¡µ URL' },
           },
           required: ['url']
         }
       },
       {
         name: 'fill_form',
         description: 'å¡«å……ç½‘é¡µè¡¨å•',
         inputSchema: {
           type: 'object',
           properties: {
             selector: { type: 'string', description: 'CSS é€‰æ‹©å™¨' },
             value: { type: 'string', description: 'å¡«å……çš„å€¼' },
           },
           required: ['selector', 'value']
         }
       },
       {
         name: 'click_element',
         description: 'ç‚¹å‡»ç½‘é¡µå…ƒç´ ',
         inputSchema: {
           type: 'object',
           properties: {
             selector: { type: 'string', description: 'CSS é€‰æ‹©å™¨' },
           },
           required: ['selector']
         }
       },
     ]
   }));
   
   server.setRequestHandler('tools/call', async (request) => {
     const { name, arguments: args } = request.params;
     
     // ç¡®ä¿æµè§ˆå™¨å·²å¯åŠ¨
     if (!browser) {
       browser = await chromium.launch({ headless: false });
       page = await browser.newPage();
     }
     
     switch (name) {
       case 'open_url':
         await page!.goto(args.url);
         return { content: [{ type: 'text', text: `å·²æ‰“å¼€ ${args.url}` }] };
       
       case 'fill_form':
         await page!.fill(args.selector, args.value);
         return { content: [{ type: 'text', text: `å·²å¡«å……è¡¨å•` }] };
       
       case 'click_element':
         await page!.click(args.selector);
         return { content: [{ type: 'text', text: `å·²ç‚¹å‡»å…ƒç´ ` }] };
     }
   });
   ```

2. **å®ç°è‡ªåŠ¨ç™»å½•åœºæ™¯**
   - å·¥å…·é“¾ç¼–æ’: open_url â†’ fill_form (ç”¨æˆ·å) â†’ fill_form (å¯†ç ) â†’ click_element (ç™»å½•æŒ‰é’®)

**éªŒæ”¶æ ‡å‡†**:
- âœ… å¯ä»¥æ‰“å¼€ç½‘é¡µ
- âœ… å¯ä»¥å¡«å……è¡¨å•
- âœ… å¯ä»¥ç‚¹å‡»æŒ‰é’®
- âœ… ç”¨æˆ·è¾“å…¥"æ‰“å¼€ä¸ƒç‰›äº‘å®˜ç½‘å¹¶ç™»å½•"å¯ä»¥è‡ªåŠ¨å®Œæˆç™»å½•æµç¨‹

---

### ä»»åŠ¡ 3.2: ç³»ç»Ÿæ§åˆ¶å·¥å…·

**ä¼˜å…ˆçº§**: P2  
**é¢„è®¡æ—¶é—´**: 3-4 å¤©  
**è´Ÿè´£æ¨¡å—**: MCP Tools (Shell/AppleScript)

#### å­ä»»åŠ¡

1. **åˆ›å»ºç³»ç»Ÿæ§åˆ¶ MCP Server**
   ```typescript
   // mcp-tools/system-control/src/index.ts
   import { Server } from '@modelcontextprotocol/sdk';
   import { exec } from 'child_process';
   import { promisify } from 'util';
   
   const execAsync = promisify(exec);
   
   const server = new Server({
     name: 'system-control',
     version: '1.0.0',
   });
   
   server.setRequestHandler('tools/list', async () => ({
     tools: [
       {
         name: 'set_volume',
         description: 'è®¾ç½®ç³»ç»ŸéŸ³é‡',
         inputSchema: {
           type: 'object',
           properties: {
             volume: { type: 'number', description: 'éŸ³é‡ (0-100)', minimum: 0, maximum: 100 },
           },
           required: ['volume']
         }
       },
       {
         name: 'set_brightness',
         description: 'è®¾ç½®å±å¹•äº®åº¦',
         inputSchema: {
           type: 'object',
           properties: {
             brightness: { type: 'number', description: 'äº®åº¦ (0-100)', minimum: 0, maximum: 100 },
           },
           required: ['brightness']
         }
       },
       {
         name: 'system_shutdown',
         description: 'å…³æœº (éœ€è¦ç”¨æˆ·ç¡®è®¤)',
         inputSchema: {
           type: 'object',
           properties: {
             delay: { type: 'number', description: 'å»¶è¿Ÿæ—¶é—´(åˆ†é’Ÿ)', default: 0 },
           }
         }
       },
     ]
   }));
   
   server.setRequestHandler('tools/call', async (request) => {
     const { name, arguments: args } = request.params;
     
     switch (name) {
       case 'set_volume':
         await execAsync(`osascript -e "set volume output volume ${args.volume}"`);
         return { content: [{ type: 'text', text: `éŸ³é‡å·²è®¾ç½®ä¸º ${args.volume}%` }] };
       
       case 'set_brightness':
         // ä½¿ç”¨ brightness å‘½ä»¤è¡Œå·¥å…·
         await execAsync(`brightness ${args.brightness / 100}`);
         return { content: [{ type: 'text', text: `äº®åº¦å·²è®¾ç½®ä¸º ${args.brightness}%` }] };
       
       case 'system_shutdown':
         // å±é™©æ“ä½œ,éœ€è¦ç”¨æˆ·ç¡®è®¤
         const delay = args.delay || 0;
         await execAsync(`sudo shutdown -h +${delay}`);
         return { content: [{ type: 'text', text: `ç³»ç»Ÿå°†åœ¨ ${delay} åˆ†é’Ÿåå…³æœº` }] };
     }
   });
   ```

2. **å®ç°å®‰å…¨ç¡®è®¤æœºåˆ¶**
   - å±é™©æ“ä½œéœ€è¦ç”¨æˆ·å¼¹çª—ç¡®è®¤
   - åœ¨ Swift ä¸­å®ç°ç¡®è®¤å¯¹è¯æ¡†

**éªŒæ”¶æ ‡å‡†**:
- âœ… å¯ä»¥è®¾ç½®éŸ³é‡
- âœ… å¯ä»¥è®¾ç½®äº®åº¦
- âœ… å…³æœºæ“ä½œæœ‰ç¡®è®¤å¯¹è¯æ¡†

---

### ä»»åŠ¡ 3.3: å·¥å…·é“¾ç¼–æ’

**ä¼˜å…ˆçº§**: P1  
**é¢„è®¡æ—¶é—´**: 2-3 å¤©  
**è´Ÿè´£æ¨¡å—**: Core Service (Go)

#### å­ä»»åŠ¡

1. **å®ç°å·¥å…·é“¾ç¼–æ’å™¨**
   ```go
   type ToolOrchestrator struct {
       mcpClient *MCPClient
   }
   
   func (o *ToolOrchestrator) ExecuteChain(ctx context.Context, toolCalls []ToolCall) ([]ToolResult, error) {
       results := make([]ToolResult, 0, len(toolCalls))
       
       for i, call := range toolCalls {
           log.Infof("Executing tool %d/%d: %s", i+1, len(toolCalls), call.Name)
           
           result, err := o.mcpClient.CallTool(ctx, call.Name, call.Parameters)
           if err != nil {
               if call.Required {
                   return results, fmt.Errorf("required tool %s failed: %w", call.Name, err)
               }
               log.Warnf("Optional tool %s failed: %v", call.Name, err)
               continue
           }
           
           results = append(results, *result)
       }
       
       return results, nil
   }
   ```

2. **AI å¼•æ“æ”¯æŒå¤šæ­¥éª¤æ“ä½œ**
   - LLM è¿”å›å¤šä¸ª ToolCall
   - æŒ‰é¡ºåºæ‰§è¡Œ

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ”¯æŒå¤šæ­¥éª¤æ“ä½œ
- âœ… ä¾‹å¦‚: "æ‰“å¼€ä¸ƒç‰›äº‘å®˜ç½‘å¹¶ç™»å½•" = open_url + fill_form + click_element

---

## 5. é˜¶æ®µå››: ä¼˜åŒ–ä¸å‘å¸ƒ (1-2 å‘¨)

### ç›®æ ‡
æ€§èƒ½ä¼˜åŒ–ã€æµ‹è¯•ã€æ‰“åŒ…å‘å¸ƒã€‚

---

### ä»»åŠ¡ 4.1: æ€§èƒ½ä¼˜åŒ–

**ä¼˜å…ˆçº§**: P0  
**é¢„è®¡æ—¶é—´**: 3-4 å¤©

#### å­ä»»åŠ¡

1. **å†…å­˜ä¼˜åŒ–**
   - éŸ³é¢‘æµä½¿ç”¨ç¼“å†²æ± 
   - ä¸Šä¸‹æ–‡å†å²é•¿åº¦é™åˆ¶
   - å®šæœŸæ¸…ç†è¿‡æœŸä¼šè¯

2. **å“åº”ä¼˜åŒ–**
   - å¹¶è¡Œè°ƒç”¨ç‹¬ç«‹å·¥å…·
   - æ·»åŠ è¶…æ—¶æ§åˆ¶
   - å®ç°ç¼“å­˜æœºåˆ¶ (å·¥å…·åˆ—è¡¨ã€é…ç½®ç­‰)

3. **å¯åŠ¨ä¼˜åŒ–**
   - MCP Server æ‡’åŠ è½½
   - å¹¶å‘å¯åŠ¨å¤šä¸ª Server

**éªŒæ”¶æ ‡å‡†**:
- âœ… å†…å­˜å ç”¨ < 200MB (ç©ºé—²), < 500MB (è¿è¡Œ)
- âœ… CPU å ç”¨ < 3% (ç›‘å¬), < 20% (å¤„ç†)
- âœ… åº”ç”¨å¯åŠ¨æ—¶é—´ < 2s

---

### ä»»åŠ¡ 4.2: å…¨é¢æµ‹è¯•

**ä¼˜å…ˆçº§**: P0  
**é¢„è®¡æ—¶é—´**: 3-4 å¤©

#### æµ‹è¯•ç±»å‹

1. **å•å…ƒæµ‹è¯•**
   - STT æ¨¡å—æµ‹è¯•
   - AI å¼•æ“æµ‹è¯•
   - MCP å®¢æˆ·ç«¯æµ‹è¯•
   - ç›®æ ‡è¦†ç›–ç‡ > 80%

2. **é›†æˆæµ‹è¯•**
   - ç«¯åˆ°ç«¯æµç¨‹æµ‹è¯•
   - æ‰€æœ‰å·¥å…·æµ‹è¯•
   - é”™è¯¯åœºæ™¯æµ‹è¯•

3. **ç”¨æˆ·æµ‹è¯•**
   - å†…éƒ¨å›¢é˜Ÿä½¿ç”¨æµ‹è¯•
   - æ”¶é›†åé¦ˆå¹¶ä¿®å¤é—®é¢˜

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡
- âœ… æ‰€æœ‰é›†æˆæµ‹è¯•é€šè¿‡
- âœ… ç”¨æˆ·æµ‹è¯•æ— é‡å¤§é—®é¢˜

---

### ä»»åŠ¡ 4.3: æ–‡æ¡£å®Œå–„

**ä¼˜å…ˆçº§**: P1  
**é¢„è®¡æ—¶é—´**: 2-3 å¤©

#### æ–‡æ¡£åˆ—è¡¨

1. **ç”¨æˆ·æ–‡æ¡£**
   - å®‰è£…æŒ‡å—
   - ä½¿ç”¨æ•™ç¨‹
   - å¸¸è§é—®é¢˜ FAQ
   - éšç§æ”¿ç­–

2. **å¼€å‘æ–‡æ¡£**
   - æ¶æ„è®¾è®¡æ–‡æ¡£ âœ…
   - API æ–‡æ¡£
   - MCP å·¥å…·å¼€å‘æŒ‡å—
   - è´¡çŒ®æŒ‡å—

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ‰€æœ‰æ–‡æ¡£å®Œæˆ
- âœ… æ–‡æ¡£æ¸…æ™°æ˜“æ‡‚

---

### ä»»åŠ¡ 4.4: åº”ç”¨æ‰“åŒ…ä¸å‘å¸ƒ

**ä¼˜å…ˆçº§**: P0  
**é¢„è®¡æ—¶é—´**: 1-2 å¤©

#### å­ä»»åŠ¡

1. **åº”ç”¨æ‰“åŒ…**
   - é…ç½® Xcode Archive
   - ç­¾åå’Œå…¬è¯
   - åˆ›å»º DMG å®‰è£…åŒ…

2. **å‘å¸ƒåˆ° GitHub**
   - åˆ›å»º Release
   - ä¸Šä¼ å®‰è£…åŒ…
   - ç¼–å†™ Release Notes

**éªŒæ”¶æ ‡å‡†**:
- âœ… åº”ç”¨å¯ä»¥ç‹¬ç«‹å®‰è£…è¿è¡Œ
- âœ… å‘å¸ƒåˆ° GitHub Releases
- âœ… Release Notes å®Œæ•´

---

## 6. æµ‹è¯•ç”¨ä¾‹çŸ©é˜µ

### 6.1 æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•

| ç”¨ä¾‹ ID | åœºæ™¯ | è¾“å…¥ | é¢„æœŸè¾“å‡º | ä¼˜å…ˆçº§ |
|---------|------|------|----------|--------|
| TC001 | åœ°å›¾å¯¼èˆª-å®Œæ•´åœ°å€ | "ä»åŒ—äº¬åˆ°ä¸Šæµ·" | æ‰“å¼€åœ°å›¾,æ˜¾ç¤ºè·¯çº¿ | P0 |
| TC002 | åœ°å›¾å¯¼èˆª-ä»…ç»ˆç‚¹ | "å»å¤©å®‰é—¨" | ä½¿ç”¨å½“å‰ä½ç½®ä¸ºèµ·ç‚¹ | P0 |
| TC003 | å¤©æ°”æŸ¥è¯¢-ä»Šå¤© | "ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·" | æ˜¾ç¤ºå½“å‰ä½ç½®ä»Šæ—¥å¤©æ°” | P0 |
| TC004 | å¤©æ°”æŸ¥è¯¢-æ˜å¤©+åœ°ç‚¹ | "æ˜å¤©ä¸Šæµ·å¤©æ°”" | æ˜¾ç¤ºä¸Šæµ·æ˜æ—¥å¤©æ°” | P0 |
| TC005 | éŸ³ä¹æ’­æ”¾ | "æ’­æ”¾å‘¨æ°ä¼¦çš„æ™´å¤©" | æ‰“å¼€éŸ³ä¹åº”ç”¨å¹¶æ’­æ”¾ | P1 |
| TC006 | åº”ç”¨å¯åŠ¨ | "æ‰“å¼€ Safari" | å¯åŠ¨ Safari æµè§ˆå™¨ | P1 |
| TC007 | ç³»ç»Ÿæ§åˆ¶-éŸ³é‡ | "éŸ³é‡è°ƒåˆ° 50%" | ç³»ç»ŸéŸ³é‡è°ƒæ•´ä¸º 50% | P1 |
| TC008 | æµè§ˆå™¨æ§åˆ¶ | "æ‰“å¼€ç™¾åº¦æœç´¢è‹¹æœ" | æ‰“å¼€ç™¾åº¦å¹¶æœç´¢ | P1 |
| TC009 | å¤šè½®å¯¹è¯ | "æŸ¥çœ‹ä¸Šæµ·å¤©æ°”" â†’ "æ˜å¤©å‘¢?" | æ˜¾ç¤ºæ˜å¤©ä¸Šæµ·å¤©æ°” | P1 |
| TC010 | é”™è¯¯å¤„ç† | "æ‰“å¼€ xxx åœ°å›¾"(æ— æ•ˆ) | æç¤ºæ— æ³•ç†è§£,å¼•å¯¼ç”¨æˆ· | P2 |

### 6.2 å¼‚å¸¸åœºæ™¯æµ‹è¯•

| ç”¨ä¾‹ ID | åœºæ™¯ | è¾“å…¥ | é¢„æœŸè¾“å‡º | ä¼˜å…ˆçº§ |
|---------|------|------|----------|--------|
| TC101 | ç½‘ç»œæ–­å¼€ | å¤©æ°”æŸ¥è¯¢ | æç¤ºç½‘ç»œé”™è¯¯,å¼•å¯¼é‡è¯• | P1 |
| TC102 | STT å¤±è´¥ | è¯­éŸ³è¾“å…¥ | è‡ªåŠ¨é™çº§åˆ°å¤‡ç”¨ STT | P1 |
| TC103 | LLM è¶…æ—¶ | æ–‡å­—è¾“å…¥ | æç¤ºå¤„ç†è¶…æ—¶,å¼•å¯¼é‡è¯• | P1 |
| TC104 | å·¥å…·è°ƒç”¨å¤±è´¥ | åœ°å›¾å¯¼èˆª | æç¤ºå·¥å…·å¤±è´¥,æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ | P1 |
| TC105 | æƒé™æœªæˆäºˆ | éº¦å…‹é£è®¿é—® | æç¤ºéœ€è¦æˆäºˆæƒé™ | P0 |

---

## 7. é£é™©ä¸æŒ‘æˆ˜

### 7.1 æŠ€æœ¯é£é™©

| é£é™© | å½±å“ | æ¦‚ç‡ | ç¼“è§£æªæ–½ | è´Ÿè´£äºº |
|------|------|------|----------|--------|
| å”¤é†’è¯è¯¯è§¦å‘ç‡é«˜ | ç”¨æˆ·ä½“éªŒå·® | ä¸­ | ä½¿ç”¨æˆç†Ÿå¼•æ“,å¯è°ƒçµæ•åº¦ | Swift å¼€å‘ |
| STT å‡†ç¡®ç‡ä¸è¶³ | åŠŸèƒ½ä¸å¯ç”¨ | ä¸­ | å¤š STT å¼•æ“é™çº§ | Go å¼€å‘ |
| MCP åè®®é›†æˆå¤æ‚ | è¿›åº¦å»¶æœŸ | ä¸­ | å‚è€ƒå®˜æ–¹ç¤ºä¾‹,ç®€åŒ–å®ç° | Go å¼€å‘ |
| æµè§ˆå™¨æ§åˆ¶ä¸ç¨³å®š | åŠŸèƒ½å—é™ | é«˜ | å……åˆ†æµ‹è¯•,æä¾›é™çº§æ–¹æ¡ˆ | MCP å·¥å…·å¼€å‘ |

### 7.2 æ—¶é—´é£é™©

| é£é™© | å½±å“ | æ¦‚ç‡ | ç¼“è§£æªæ–½ |
|------|------|------|----------|
| å¼€å‘æ—¶é—´ä¼°è®¡ä¸è¶³ | å»¶æœŸ | ä¸­ | ä¼˜å…ˆå®Œæˆ P0 ä»»åŠ¡,P1/P2 å¯å»¶å |
| æµ‹è¯•æ—¶é—´ä¸è¶³ | è´¨é‡é—®é¢˜ | ä¸­ | è¾¹å¼€å‘è¾¹æµ‹è¯•,åŠæ—©å‘ç°é—®é¢˜ |
| ç¬¬ä¸‰æ–¹ API é™æµ | åŠŸèƒ½å—é™ | ä½ | æ”¯æŒæœ¬åœ°æ¨¡å‹,é™ä½ä¾èµ– |

---

## 8. èµ„æºéœ€æ±‚

### 8.1 å¼€å‘èµ„æº

| è§’è‰² | äººæ•° | æŠ€èƒ½è¦æ±‚ |
|------|------|----------|
| macOS å¼€å‘å·¥ç¨‹å¸ˆ | 1 | Swift, SwiftUI, AVFoundation |
| åç«¯å¼€å‘å·¥ç¨‹å¸ˆ | 1 | Go, gRPC, AI/LLM é›†æˆ |
| MCP å·¥å…·å¼€å‘å·¥ç¨‹å¸ˆ | 1 | TypeScript/Python/Go, MCP åè®® |

### 8.2 å¤–éƒ¨èµ„æº

| èµ„æº | ç”¨é€” | æˆæœ¬ |
|------|------|------|
| é˜¿é‡Œäº‘ STT API | è¯­éŸ³è¯†åˆ« | æŒ‰é‡ä»˜è´¹ |
| OpenAI API | AI ç†è§£å¼•æ“ | æŒ‰é‡ä»˜è´¹ |
| å½©äº‘å¤©æ°” API | å¤©æ°”æŸ¥è¯¢ | å…è´¹é¢åº¦ |
| ç™¾åº¦åœ°å›¾ API | åœ°å›¾å¯¼èˆª | å…è´¹ |

---

## 9. é‡Œç¨‹ç¢‘ä¸äº¤ä»˜ç‰©

| é‡Œç¨‹ç¢‘ | æ—¶é—´èŠ‚ç‚¹ | äº¤ä»˜ç‰© | éªŒæ”¶æ ‡å‡† |
|--------|----------|--------|----------|
| M1: MVP Demo | ç¬¬ 2-3 å‘¨ | åœ°å›¾å¯¼èˆªåŠŸèƒ½ | ç«¯åˆ°ç«¯æµç¨‹å¯ç”¨ |
| M2: Beta ç‰ˆæœ¬ | ç¬¬ 5-6 å‘¨ | 4 ç§æ“ä½œç±»å‹ | å¤©æ°”ã€éŸ³ä¹ã€åº”ç”¨å¯åŠ¨å¯ç”¨ |
| M3: RC ç‰ˆæœ¬ | ç¬¬ 7-8 å‘¨ | æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ | æµè§ˆå™¨æ§åˆ¶ã€ç³»ç»Ÿæ§åˆ¶å¯ç”¨ |
| M4: V1.0 æ­£å¼ç‰ˆ | ç¬¬ 9-10 å‘¨ | ä¼˜åŒ–ç‰ˆæœ¬ | æ€§èƒ½è¾¾æ ‡,æ–‡æ¡£å®Œå–„ |

---

## 10. ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³å¼€å§‹ (æœ¬å‘¨)

1. **ç¯å¢ƒæ­å»º**
   - [ ] å®‰è£… Xcode
   - [ ] å®‰è£… Go å’Œ Node.js
   - [ ] åˆ›å»ºé¡¹ç›®ç»“æ„

2. **æŠ€æœ¯éªŒè¯**
   - [ ] æµ‹è¯• Porcupine å”¤é†’è¯å¼•æ“
   - [ ] æµ‹è¯•é˜¿é‡Œäº‘ STT API
   - [ ] æµ‹è¯• ChatGPT Function Calling
   - [ ] æµ‹è¯• MCP SDK

3. **å¯åŠ¨ MVP å¼€å‘**
   - [ ] ä»»åŠ¡ 1.1: é¡¹ç›®åˆå§‹åŒ–
   - [ ] ä»»åŠ¡ 1.2: Swift macOS åº”ç”¨æ¡†æ¶
   - [ ] ä»»åŠ¡ 1.3: è¯­éŸ³è¾“å…¥æ¨¡å—

### çŸ­æœŸè®¡åˆ’ (2 å‘¨å†…)

1. **å®Œæˆ MVP**
   - [ ] å®Œæˆæ‰€æœ‰é˜¶æ®µä¸€ä»»åŠ¡
   - [ ] å†…éƒ¨ Demo æ¼”ç¤º

2. **å¯åŠ¨é˜¶æ®µäºŒ**
   - [ ] å¤©æ°”æŸ¥è¯¢å·¥å…·
   - [ ] éŸ³ä¹æ’­æ”¾å·¥å…·

---

## 11. æ€»ç»“

æœ¬æ–‡æ¡£è¯¦ç»†æ‹†è§£äº† WALL-E é¡¹ç›®çš„æ‰€æœ‰å¼€å‘ä»»åŠ¡,åŒ…æ‹¬:

1. **4 ä¸ªå¼€å‘é˜¶æ®µ**: MVP â†’ åŠŸèƒ½æ‰©å±• â†’ é«˜çº§èƒ½åŠ› â†’ ä¼˜åŒ–å‘å¸ƒ
2. **30+ ä¸ªå…·ä½“ä»»åŠ¡**: æ¯ä¸ªä»»åŠ¡éƒ½æœ‰æ˜ç¡®çš„ç›®æ ‡ã€æ—¶é—´ã€éªŒæ”¶æ ‡å‡†
3. **å®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹**: è¦†ç›–æ ¸å¿ƒåŠŸèƒ½å’Œå¼‚å¸¸åœºæ™¯
4. **é£é™©ç¼“è§£æªæ–½**: è¯†åˆ«æŠ€æœ¯é£é™©å¹¶æä¾›è§£å†³æ–¹æ¡ˆ

**å…³é”®æˆåŠŸå› ç´ **:
- ä¼˜å…ˆå®Œæˆ P0 ä»»åŠ¡,ç¡®ä¿æ ¸å¿ƒåŠŸèƒ½å¯ç”¨
- è¾¹å¼€å‘è¾¹æµ‹è¯•,åŠæ—©å‘ç°é—®é¢˜
- ä¿æŒä»£ç è´¨é‡,ä¸ºåç»­æ‰©å±•æ‰“å¥½åŸºç¡€
- å……åˆ†åˆ©ç”¨ç°æœ‰å¼€æºå·¥å…·å’Œ SDK,é¿å…é‡å¤é€ è½®å­

**é¢„æœŸç»“æœ**:
æŒ‰ç…§æœ¬è®¡åˆ’æ‰§è¡Œ,å¯åœ¨ 8-10 å‘¨å†…å®Œæˆä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æ€§èƒ½ä¼˜ç§€ã€ç”¨æˆ·ä½“éªŒè‰¯å¥½çš„ AI æ¡Œé¢åŠ©æ‰‹äº§å“ã€‚